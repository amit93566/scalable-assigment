USE catalog_db;

DROP TABLE IF EXISTS products;

CREATE TABLE products (
                          product_id BIGINT PRIMARY KEY AUTO_INCREMENT,
                          sku VARCHAR(50) UNIQUE NOT NULL,
                          name VARCHAR(255) NOT NULL,
                          category VARCHAR(100) NOT NULL,
                          price DECIMAL(10, 2) NOT NULL,
                          is_active BOOLEAN NOT NULL DEFAULT TRUE,
                          created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
                          updated_at TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,

                          CONSTRAINT chk_price CHECK (price > 0),

                          INDEX idx_sku (sku),
                          INDEX idx_category (category),
                          INDEX idx_is_active (is_active)
);

INSERT INTO products (product_id, sku, name, category, price, is_active)
VALUES
    (1, 'SKU0001', 'Prod1', 'Clothing', 706.68, TRUE),
    (2, 'SKU0002', 'Prod2', 'Clothing', 1560.01, TRUE),
    (3, 'SKU0003', 'Prod3', 'Clothing', 1761.0, TRUE),
    (4, 'SKU0004', 'Prod4', 'Books', 4946.1, TRUE),
    (5, 'SKU0005', 'Prod5', 'Clothing', 1566.09, TRUE),
    (6, 'SKU0006', 'Prod6', 'Books', 1950.56, TRUE),
    (7, 'SKU0007', 'Prod7', 'Electronics', 1706.45, TRUE),
    (8, 'SKU0008', 'Prod8', 'Clothing', 2326.12, TRUE),
    (9, 'SKU0009', 'Prod9', 'Books', 2185.89, FALSE),
    (10, 'SKU0010', 'Prod10', 'Electronics', 552.02, FALSE),
    (11, 'SKU0011', 'Prod11', 'Electronics', 2433.64, FALSE),
    (12, 'SKU0012', 'Prod12', 'Electronics', 1909.54, FALSE),
    (13, 'SKU0013', 'Prod13', 'Books', 2838.95, FALSE),
    (14, 'SKU0014', 'Prod14', 'Clothing', 2963.09, FALSE),
    (15, 'SKU0015', 'Prod15', 'Clothing', 3476.19, FALSE),
    (16, 'SKU0016', 'Prod16', 'Books', 4869.04, TRUE),
    (17, 'SKU0017', 'Prod17', 'Electronics', 2578.35, FALSE),
    (18, 'SKU0018', 'Prod18', 'Books', 2342.79, TRUE),
    (19, 'SKU0019', 'Prod19', 'Books', 1141.95, FALSE),
    (20, 'SKU0020', 'Prod20', 'Electronics', 3757.83, FALSE),
    (21, 'SKU0021', 'Prod21', 'Electronics', 3047.84, FALSE),
    (22, 'SKU0022', 'Prod22', 'Electronics', 692.25, FALSE),
    (23, 'SKU0023', 'Prod23', 'Electronics', 2661.61, TRUE),
    (24, 'SKU0024', 'Prod24', 'Clothing', 1594.13, FALSE),
    (25, 'SKU0025', 'Prod25', 'Clothing', 1540.51, TRUE),
    (26, 'SKU0026', 'Prod26', 'Electronics', 796.49, FALSE),
    (27, 'SKU0027', 'Prod27', 'Electronics', 4690.42, FALSE),
    (28, 'SKU0028', 'Prod28', 'Clothing', 1156.35, FALSE),
    (29, 'SKU0029', 'Prod29', 'Electronics', 699.41, FALSE),
    (30, 'SKU0030', 'Prod30', 'Electronics', 4365.09, FALSE),
    (31, 'SKU0031', 'Prod31', 'Clothing', 2907.99, FALSE),
    (32, 'SKU0032', 'Prod32', 'Clothing', 3928.61, FALSE),
    (33, 'SKU0033', 'Prod33', 'Books', 4185.05, TRUE),
    (34, 'SKU0034', 'Prod34', 'Electronics', 2573.34, FALSE),
    (35, 'SKU0035', 'Prod35', 'Clothing', 3369.38, TRUE),
    (36, 'SKU0036', 'Prod36', 'Books', 1693.56, FALSE),
    (37, 'SKU0037', 'Prod37', 'Clothing', 1240.83, FALSE),
    (38, 'SKU0038', 'Prod38', 'Clothing', 2750.87, FALSE),
    (39, 'SKU0039', 'Prod39', 'Books', 1459.14, TRUE),
    (40, 'SKU0040', 'Prod40', 'Electronics', 3565.32, FALSE),
    (41, 'SKU0041', 'Prod41', 'Books', 3261.28, TRUE),
    (42, 'SKU0042', 'Prod42', 'Electronics', 4780.32, TRUE),
    (43, 'SKU0043', 'Prod43', 'Books', 2656.59, FALSE),
    (44, 'SKU0044', 'Prod44', 'Books', 4494.63, TRUE),
    (45, 'SKU0045', 'Prod45', 'Books', 4687.29, TRUE),
    (46, 'SKU0046', 'Prod46', 'Electronics', 1447.32, TRUE),
    (47, 'SKU0047', 'Prod47', 'Electronics', 4165.48, FALSE),
    (48, 'SKU0048', 'Prod48', 'Electronics', 4053.91, FALSE),
    (49, 'SKU0049', 'Prod49', 'Clothing', 2985.58, FALSE),
    (50, 'SKU0050', 'Prod50', 'Electronics', 1765.79, TRUE),
    (51, 'SKU0051', 'Prod51', 'Clothing', 217.88, FALSE),
    (52, 'SKU0052', 'Prod52', 'Clothing', 1360.17, TRUE),
    (53, 'SKU0053', 'Prod53', 'Electronics', 2754.72, FALSE),
    (54, 'SKU0054', 'Prod54', 'Electronics', 995.08, TRUE),
    (55, 'SKU0055', 'Prod55', 'Electronics', 1603.29, FALSE),
    (56, 'SKU0056', 'Prod56', 'Books', 929.04, FALSE),
    (57, 'SKU0057', 'Prod57', 'Electronics', 233.14, TRUE),
    (58, 'SKU0058', 'Prod58', 'Clothing', 2010.7, FALSE),
    (59, 'SKU0059', 'Prod59', 'Electronics', 2122.83, FALSE),
    (60, 'SKU0060', 'Prod60', 'Clothing', 1940.01, TRUE),
    (61, 'SKU0061', 'Prod61', 'Electronics', 1092.54, TRUE),
    (62, 'SKU0062', 'Prod62', 'Clothing', 2592.24, FALSE),
    (63, 'SKU0063', 'Prod63', 'Electronics', 1419.51, FALSE),
    (64, 'SKU0064', 'Prod64', 'Clothing', 2810.29, TRUE),
    (65, 'SKU0065', 'Prod65', 'Clothing', 241.64, TRUE),
    (66, 'SKU0066', 'Prod66', 'Electronics', 1418.88, TRUE),
    (67, 'SKU0067', 'Prod67', 'Electronics', 3838.59, TRUE),
    (68, 'SKU0068', 'Prod68', 'Clothing', 2884.4, FALSE),
    (69, 'SKU0069', 'Prod69', 'Electronics', 4246.76, TRUE),
    (70, 'SKU0070', 'Prod70', 'Electronics', 1929.2, TRUE),
    (71, 'SKU0071', 'Prod71', 'Electronics', 2733.92, FALSE),
    (72, 'SKU0072', 'Prod72', 'Books', 2313.54, TRUE),
    (73, 'SKU0073', 'Prod73', 'Clothing', 4809.46, FALSE),
    (74, 'SKU0074', 'Prod74', 'Books', 4863.2, TRUE),
    (75, 'SKU0075', 'Prod75', 'Electronics', 4674.18, FALSE),
    (76, 'SKU0076', 'Prod76', 'Clothing', 3029.55, FALSE),
    (77, 'SKU0077', 'Prod77', 'Clothing', 4227.95, TRUE),
    s(78, 'SKU0078', 'Prod78', 'Books', 4219.35, FALSE),
    (79, 'SKU0079', 'Prod79', 'Electronics', 890.94, TRUE),
    (80, 'SKU0080', 'Prod80', 'Clothing', 539.6, TRUE),
    (81, 'SKU0081', 'Prod81', 'Electronics', 3652.86, FALSE),
    (82, 'SKU0082', 'Prod82', 'Clothing', 1133.17, FALSE),
    (83, 'SKU0083', 'Prod83', 'Books', 4732.5, FALSE),
    (84, 'SKU0084', 'Prod84', 'Books', 2318.32, TRUE),
    (85, 'SKU0085', 'Prod85', 'Books', 4916.81, FALSE),
    (86, 'SKU0086', 'Prod86', 'Electronics', 2353.02, FALSE),
    (87, 'SKU0087', 'Prod87', 'Electronics', 4578.69, TRUE),
    (88, 'SKU0088', 'Prod88', 'Books', 4619.06, FALSE),
    (89, 'SKU0089', 'Prod89', 'Electronics', 4517.08, TRUE),
    (90, 'SKU0090', 'Prod90', 'Clothing', 2823.37, FALSE),
    (91, 'SKU0091', 'Prod91', 'Clothing', 2736.84, TRUE),
    (92, 'SKU0092', 'Prod92', 'Books', 251.64, FALSE),
    (93, 'SKU0093', 'Prod93', 'Books', 704.74, FALSE),
    (94, 'SKU0094', 'Prod94', 'Books', 1854.03, TRUE),
    (95, 'SKU0095', 'Prod95', 'Books', 4920.6, TRUE),
    (96, 'SKU0096', 'Prod96', 'Clothing', 1915.36, TRUE),
    (97, 'SKU0097', 'Prod97', 'Clothing', 145.88, TRUE),
    (98, 'SKU0098', 'Prod98', 'Clothing', 3434.72, FALSE),
    (99, 'SKU0099', 'Prod99', 'Electronics', 540.84, FALSE),
    (100, 'SKU0100', 'Prod100', 'Books', 1183.62, FALSE),
    (101, 'SKU0101', 'Prod101', 'Clothing', 280.3, FALSE),
    (102, 'SKU0102', 'Prod102', 'Books', 3564.14, TRUE),
    (103, 'SKU0103', 'Prod103', 'Electronics', 1060.83, FALSE),
    (104, 'SKU0104', 'Prod104', 'Electronics', 4362.59, FALSE),
    (105, 'SKU0105', 'Prod105', 'Electronics', 2803.75, TRUE),
    (106, 'SKU0106', 'Prod106', 'Electronics', 2982.01, TRUE),
    (107, 'SKU0107', 'Prod107', 'Electronics', 1372.16, TRUE),
    (108, 'SKU0108', 'Prod108', 'Books', 3671.6, FALSE),
    (109, 'SKU0109', 'Prod109', 'Electronics', 4253.57, TRUE),
    (110, 'SKU0110', 'Prod110', 'Books', 3420.9, FALSE),
    (111, 'SKU0111', 'Prod111', 'Books', 2844.57, FALSE),
    (112, 'SKU0112', 'Prod112', 'Electronics', 4695.66, TRUE),
    (113, 'SKU0113', 'Prod113', 'Clothing', 2219.49, FALSE),
    (114, 'SKU0114', 'Prod114', 'Clothing', 696.42, FALSE),
    (115, 'SKU0115', 'Prod115', 'Clothing', 1871.21, TRUE),
    (116, 'SKU0116', 'Prod116', 'Books', 1200.29, FALSE),
    (117, 'SKU0117', 'Prod117', 'Clothing', 2708.81, FALSE),
    (118, 'SKU0118', 'Prod118', 'Electronics', 2020.11, FALSE),
    (119, 'SKU0119', 'Prod119', 'Electronics', 4412.48, TRUE),
    (120, 'SKU0120', 'Prod120', 'Books', 1205.58, FALSE);

SELECT 'Total rows inserted:', COUNT(*) FROM products;
SELECT * FROM products LIMIT 10;